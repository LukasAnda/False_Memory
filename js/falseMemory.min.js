var keywords=[["dvere","sklo","z\xE1ves","tie\u0148","r\xEDmsa","parapet","dom","otvori\u0165","z\xE1clona","r\xE1m","v\xFDh\u013Ead","v\xE1nok","k\u013Eu\u010Dka","stena","\u017Eal\xFAzie"],["poste\u013E","odpo\u010Dinok","bdie\u0165","unaven\xFD","sen","zobudi\u0165","ticho","deka","le\u017Ea\u0165","pohoda","chr\xE1panie","driema\u0165","pokoj","z\xEDva\u0165","ospal\xFD"],["kysl\xFD","cukr\xEDk","trpk\xFD","dobr\xFD","cukor","ochutna\u0165","zub","pekn\xFD","med","malinovka","\u010Dokol\xE1da","srdce","z\xE1kusok","torta","kol\xE1\u010D"],["st\xF4l","sedie\u0165","nohy","sedadlo","gau\u010D","stol\xEDk","le\u017Eadlo","pohovka","drevo","vank\xFA\u0161","ot\xE1\u010Da\u0165","kreslo","sedenie","hojdanie","lavica"],["kopec","\xFAdolie","vyliez\u0165","kon\u010Diar","vrchol","krtinec","\u0161t\xEDt","planina","\u013Eadovec","kamz\xEDk","bicykel","horolezec","rozloha","strm\xFD","ly\u017Eova\u0165"],["navliec\u0165","\u0161pendl\xEDk","\u0161aty","\u0161itie","ostr\xFD","uzl\xEDk","pichnutie","n\xE1prstok","ni\u0165","t\u0155\u0148","ubl\xED\u017Ei\u0165","injekcia","strieka\u010Dka","l\xE1tka","pletenie"]],buttonValues=[["okno","sklo","lavica","dom","dvere","trpk\xFD","vrchol","poste\u013E","med","l\xE1tka","stena","drevo","parapet","\u017Eal\xFAzie","strm\xFD","k\u013Eu\u010Dka"],["bdie\u0165","ospal\xFD","malinovka","otvori\u0165","ostr\xFD","\u0161itie","horolezec","spa\u0165","sen","zobudi\u0165","driema\u0165","sedadlo","ticho","z\xEDva\u0165","rozloha","kol\xE1\u010D"],["z\xE1kusok","\u010Dokol\xE1da","pokoj","pohoda","med","tie\u0148","cukor","torta","sedie\u0165","\u0161aty","injekcia","sladk\xFD","kamz\xEDk","cukr\xEDk","sedenie","ochutna\u0165"],["vank\xFA\u0161","stena","stol\xEDk","srdce","sedenie","\xFAdolie","zub","dobr\xFD","uzl\xEDk","ospal\xFD","stoli\u010Dka","gau\u010D","sen","nohy","lavica","pohovka"],["kopec","ly\u017Eova\u0165","t\u0155\u0148","\xFAdolie","\u0161t\xEDt","sklo","\u010Dokol\xE1da","ot\xE1\u010Da\u0165","k\u013Eu\u010Dka","le\u017Ea\u0165","kamz\xEDk","bicykel","navliec\u0165","rozloha","pohorie","dvere"],["ihla","uzl\xEDk","torta","injekcia","pletenie","\u0161pendl\xEDk","pohoda","r\xEDmsa","ostr\xFD","strieka\u010Dka","st\xF4l","chr\xE1panie","drevo","kol\xE1\u010D","cukor","ni\u0165"]],regularDistractors=[["lavica","trpk\xFD","vrchol","poste\u013E","med","l\xE1tka","drevo","strm\xFD"],["malinovka","otvori\u0165","ostr\xFD","\u0161itie","horolezec","sedadlo","rozloha","kol\xE1\u010D"],["pokoj","pohoda","tie\u0148","sedie\u0165","\u0161aty","injekcia","kamz\xEDk","sedenie"],["stena","srdce","\xFAdolie","zub","dobr\xFD","uzl\xEDk","ospal\xFD","sen"],["t\u0155\u0148","sklo","\u010Dokol\xE1da","ot\xE1\u010Da\u0165","k\u013Eu\u010Dka","le\u017Ea\u0165","navliec\u0165","dvere"],["torta","pohoda","r\xEDmsa","st\xF4l","chr\xE1panie","drevo","kol\xE1\u010D","cukor"]],correctRepeatedWords=[["sklo","dom","dvere","stena","parapet","\u017Eal\xFAzie","k\u013Eu\u010Dka"],["bdie\u0165","ospal\xFD","sen","zobudi\u0165","driema\u0165","ticho","z\xEDva\u0165"],["z\xE1kusok","\u010Dokol\xE1da","med","cukor","torta","cukr\xEDk","ochutna\u0165"],["vank\xFA\u0161","stol\xEDk","sedenie","gau\u010D","nohy","lavica","pohovka"],["kopec","ly\u017Eova\u0165","\xFAdolie","\u0161t\xEDt","kamz\xEDk","bicykel","rozloha"],["uzl\xEDk","injekcia","pletenie","\u0161pendl\xEDk","ostr\xFD","strieka\u010Dka","ni\u0165"]],specialDistractors=[["okno"],["spa\u0165"],["sladk\xFD"],["stoli\u010Dka"],["pohorie"],["ihla"]],sex=["mu\u017E","\u017Eena"],age=["6-11 rokov","12-15 rokov","15-18 rokov","19-25 rokov","25-45 rokov","45-65 rokov","65-80 rokov","nad 80 rokov"],education=["Bez vzdelania alebo ne\xFApln\xE9 z\xE1kladn\xE9 vzdelanie (st\xE1le \u0161tudujem na z\xE1kladnej \u0161kole)","Z\xE1kladn\xE9","Stredo\u0161kolsk\xE9 vzdelanie/ odborn\xE9 vzdelanie","Vysoko\u0161kolsk\xE9 \u2013 prv\xFD stupe\u0148","Vysoko\u0161kolsk\xE9 \u2013 druh\xFD stupe\u0148","Vysoko\u0161kolsk\xE9 \u2013 tret\xED stupe\u0148"],canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d");ctx.font="18pt Arial",ctx.textAlign="center";var questionSetIndex=0,correctWordsCount=0,regularDistractorsCount=0,specialDistractorsCount=0,timeInterval=1e3;$(document).ready(function(){for(var a=$("#sex"),b=$("#age"),c=$("#education"),d=$("#testContainer"),e=0;e<sex.length;e++)a.append(`
            <div class="form-check">
                <input class="form-check-input" type="radio" name="sex" id="${"sex"+e}" value="${sex[e]}"
                       onchange="showAndScrollToElement($('#age'))">
                <label class="form-check-label" for="${"sex"+e}">
                    ${sex[e]}
                </label>
            </div>
            `);for(var e=0;e<age.length;e++)b.append(`
            <div class="form-check">
                <input class="form-check-input" type="radio" name="age" id="${"age"+e}" value="${age[e]}"
                       onchange="showAndScrollToElement($('#education'))">
                <label class="form-check-label" for="${"age"+e}">
                    ${age[e]}
                </label>
            </div>
            `);for(var e=0;e<education.length;e++)c.append(`
            <div class="form-check">
                <input class="form-check-input" type="radio" name="education" id="${"education"+e}" value="${education[e]}"
                       onchange="showAndScrollToElement($('#testContainer'))">
                <label class="form-check-label" for="${"education"+e}">
                    ${education[e]}
                </label>
            </div>
            `);setTextToCanvas("Pre za\u010Datie stla\u010Dte \u0160TART")});function finishExperiment(){var a=Math.round;hideButtons(),$("#canvas").hide(),$("#graph").fadeIn("fast"),showAndScrollToElement($("#thankYou")),$("#startExperiment").hide();var b=document.getElementById("resultGraph").getContext("2d"),c={labels:["Spr\xE1vne zopakovan\xE9 slov\xE1","Norm\xE1lne distraktory","\u0160peci\xE1lne distraktory"],datasets:[{fillColor:"rgba(52,40,255,1)",strokeColor:"rgba(52,40,255,1)",pointColor:"rgba(52,40,255,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[(a(100*(100*correctWordsCount/correctRepeatedWords.flat().length))/100).toFixed(2),(a(100*(100*regularDistractorsCount/regularDistractors.flat().length))/100).toFixed(2),(a(100*(100*specialDistractorsCount/specialDistractors.flat().length))/100).toFixed(2)]}]};new Chart(b).Bar(c,{responsive:!0,inGraphDataShow:!0,datasetFill:!0,scaleLabel:"<%=value%>",scaleTickSizeRight:5,scaleTickSizeLeft:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,scaleFontSize:16,scaleOverride:!0,scaleSteps:10,scaleStepWidth:10,scaleStartValue:0,canvasBorders:!0,canvasBordersWidth:3,canvasBordersColor:"black",graphTitle:"Falo\u0161n\xE1 pam\xE4\u0165",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",legend:!0,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",yAxisLabel:"\xDAspe\u0161nos\u0165 v %",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666"}),sendResults()}function sendResults(){var a=Math.round,b={};b.sex=$("input[name=sex]:checked").val(),b.age=$("input[name=age]:checked").val(),b.education=$("input[name=education]:checked").val(),b.correct=`${(a(100*(100*correctWordsCount/correctRepeatedWords.flat().length))/100).toFixed(2)}%`,b.normal=`${(a(100*(100*regularDistractorsCount/regularDistractors.flat().length))/100).toFixed(2)}%`,b.special=`${(a(100*(100*specialDistractorsCount/specialDistractors.flat().length))/100).toFixed(2)}%`,b.formDataNameOrder="[\"sex\",\"age\",\"education\", \"correct\", \"normal\", \"special\"]",b.formGoogleSheetName="responses",b.formGoogleSendEmail="false.memory@test.com",console.log(b);var c=new XMLHttpRequest;c.open("POST","https://script.google.com/macros/s/AKfycbyN2TZHPRxM2sxVr7vr2Dh-IJXPVsgYlbEYUuyXLJMRZCnyHIA/exec"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){return console.log(c.status,c.statusText),console.log(c.responseText),void $("#sendingSuccess").fadeIn("slow")};var d=Object.keys(b).map(function(a){return encodeURIComponent(a)+"="+encodeURIComponent(b[a])}).join("&");c.send(d),document.getElementById("startExperiment").disabled=!0}function beginExperiment(){return questionSetIndex===keywords.length?(finishExperiment(),void(questionSetIndex+=1)):void($("html, body").animate({scrollTop:$("#testContainer").offset().top},600),showWord(0,questionSetIndex),questionSetIndex+=1)}function showAndScrollToElement(a){a.fadeIn("slow"),$("html, body").animate({scrollTop:a.offset().top},600)}function showWord(a,b){a>=keywords[b].length?showButtons(b):($("#startExperiment").hide(),hideButtons(),setTextToCanvas(keywords[b][a]),setTimeout(showWord.bind(null,a+1,b),timeInterval))}function showButtons(a){questionSetIndex===keywords.length?(setTextToCanvas("Ozna\u010Dte slov\xE1 a ukon\u010Dite tla\u010Didlom KONIEC"),document.getElementById("startExperiment").innerHTML="KONIEC"):setTextToCanvas("Ozna\u010Dte slov\xE1 a kliknite na tla\u010Didlo \u0160TART"),$("#buttonsContainer").fadeIn("fast");for(var b=0;4>b;b++)for(var c=0;4>c;c++)$("#buttonsContainer").append("<button class ='btn answerButton' id='button"+(4*b+c)+"' onclick='evaluateButton(this.id)'>"+buttonValues[a][4*b+c]+"</button>");$("#startExperiment").show()}function evaluateButton(a){document.getElementById(a).disabled=!0;var b=document.getElementById(a).innerHTML;correctRepeatedWords[questionSetIndex-1].forEach(a=>{a===b&&correctWordsCount++}),regularDistractors[questionSetIndex-1].forEach(a=>{a===b&&regularDistractorsCount++}),specialDistractors[questionSetIndex-1].forEach(a=>{a===b&&specialDistractorsCount++})}function hideButtons(){$("#buttonsContainer").fadeOut("fast"),document.getElementById("buttonsContainer").innerHTML=""}function setTextToCanvas(a){ctx.fillStyle="#FFFFFF",ctx.fillRect(0,0,500,400),ctx.fillStyle="#000000",ctx.fillText(a,250,200)}